local AtmProps = {
    { "prop_atm_03" },
    { "prop_fleeca_atm" },
    { "prop_atm_01" },
    { "prop_atm_02" }
}


local ATM = {
    { name = "ATM", id = 277, sprite = 108, scale = 1.0, shortrange = true, color = 2, x = -386.733,  y = 6045.953,  z = 31.501 },
    { name = "ATM", id = 277, sprite = 108, scale = 1.0, shortrange = true, color = 2, x = -284.037,  y = 6224.385,  z = 31.187 },
    { name = "ATM", id = 277, sprite = 108, scale = 1.0, shortrange = true, color = 2, x = -284.037,  y = 6224.385,  z = 31.187 },
    { name = "ATM", id = 277, sprite = 108, scale = 1.0, shortrange = true, color = 2, x = -135.165,  y = 6365.738,  z = 31.101 },
    { name = "ATM", id = 277, sprite = 108, scale = 1.0, shortrange = true, color = 2, x = -110.753,  y = 6467.703,  z = 31.784 },
    { name = "ATM", id = 277, sprite = 108, scale = 1.0, shortrange = true, color = 2, x = -94.9690,  y = 6455.301,  z = 31.784 },
    { name = "ATM", id = 277, sprite = 108, scale = 1.0, shortrange = true, color = 2, x = 155.4300,  y = 6641.991,  z = 31.784 },
    { name = "ATM", id = 277, sprite = 108, scale = 1.0, shortrange = true, color = 2, x = 174.6720,  y = 6637.218,  z = 31.784 },
    { name = "ATM", id = 277, sprite = 108, scale = 1.0, shortrange = true, color = 2, x = 1703.138,  y = 6426.783,  z = 32.730 },
    { name = "ATM", id = 277, sprite = 108, scale = 1.0, shortrange = true, color = 2, x = 1735.114,  y = 6411.035,  z = 35.164 },
    { name = "ATM", id = 277, sprite = 108, scale = 1.0, shortrange = true, color = 2, x = 1702.842,  y = 4933.593,  z = 42.051 },
    { name = "ATM", id = 277, sprite = 108, scale = 1.0, shortrange = true, color = 2, x = 1967.333,  y = 3744.293,  z = 32.272 },
    { name = "ATM", id = 277, sprite = 108, scale = 1.0, shortrange = true, color = 2, x = 1821.917,  y = 3683.483,  z = 34.244 },
    { name = "ATM", id = 277, sprite = 108, scale = 1.0, shortrange = true, color = 2, x = 1174.532,  y = 2705.278,  z = 38.027 },
    { name = "ATM", id = 277, sprite = 108, scale = 1.0, shortrange = true, color = 2, x = 540.0420,  y = 2671.007,  z = 42.177 },
    { name = "ATM", id = 277, sprite = 108, scale = 1.0, shortrange = true, color = 2, x = 2564.399,  y = 2585.100,  z = 38.016 },
    { name = "ATM", id = 277, sprite = 108, scale = 1.0, shortrange = true, color = 2, x = 2558.683,  y = 349.6010,  z = 108.050 },
    { name = "ATM", id = 277, sprite = 108, scale = 1.0, shortrange = true, color = 2, x = 2558.051,  y = 389.4817,  z = 108.660 },
    { name = "ATM", id = 277, sprite = 108, scale = 1.0, shortrange = true, color = 2, x = 1077.692,  y = -775.796,  z = 58.218 },
    { name = "ATM", id = 277, sprite = 108, scale = 1.0, shortrange = true, color = 2, x = 1139.018,  y = -469.886,  z = 66.789 },
    { name = "ATM", id = 277, sprite = 108, scale = 1.0, shortrange = true, color = 2, x = 1168.975,  y = -457.241,  z = 66.641 },
    { name = "ATM", id = 277, sprite = 108, scale = 1.0, shortrange = true, color = 2, x = 1153.884,  y = -326.540,  z = 69.245 },
    { name = "ATM", id = 277, sprite = 108, scale = 1.0, shortrange = true, color = 2, x = 381.2827,  y = 323.2518,  z = 103.270 },
    { name = "ATM", id = 277, sprite = 108, scale = 1.0, shortrange = true, color = 2, x = 236.4638,  y = 217.4718,  z = 106.840 },
    { name = "ATM", id = 277, sprite = 108, scale = 1.0, shortrange = true, color = 2, x = 265.0043,  y = 212.1717,  z = 106.780 },
    { name = "ATM", id = 277, sprite = 108, scale = 1.0, shortrange = true, color = 2, x = 285.2029,  y = 143.5690,  z = 104.970 },
    { name = "ATM", id = 277, sprite = 108, scale = 1.0, shortrange = true, color = 2, x = -203.548,  y = -861.588,  z = 30.205 },
    { name = "ATM", id = 277, sprite = 108, scale = 1.0, shortrange = true, color = 2, x = 112.4102,  y = -776.162,  z = 31.427 },
    { name = "ATM", id = 277, sprite = 108, scale = 1.0, shortrange = true, color = 2, x = 112.9290,  y = -818.710,  z = 31.386 },
    { name = "ATM", id = 277, sprite = 108, scale = 1.0, shortrange = true, color = 2, x = 119.9000,  y = -883.826,  z = 31.191 },
    { name = "ATM", id = 277, sprite = 108, scale = 1.0, shortrange = true, color = 2, x = 149.4551,  y = -1038.95,  z = 29.366 },
    { name = "ATM", id = 277, sprite = 108, scale = 1.0, shortrange = true, color = 2, x = -846.304,  y = -340.402,  z = 38.687 },
    { name = "ATM", id = 277, sprite = 108, scale = 1.0, shortrange = true, color = 2, x = -1204.35,  y = -324.391,  z = 37.877 },
    { name = "ATM", id = 277, sprite = 108, scale = 1.0, shortrange = true, color = 2, x = -1216.27,  y = -331.461,  z = 37.773 },
    { name = "ATM", id = 277, sprite = 108, scale = 1.0, shortrange = true, color = 2, x = -56.1935,  y = -1752.53,  z = 29.452 },
    { name = "ATM", id = 277, sprite = 108, scale = 1.0, shortrange = true, color = 2, x = -261.692,  y = -2012.64,  z = 30.121 },
    { name = "ATM", id = 277, sprite = 108, scale = 1.0, shortrange = true, color = 2, x = -273.001,  y = -2025.60,  z = 30.197 },
    { name = "ATM", id = 277, sprite = 108, scale = 1.0, shortrange = true, color = 2, x = 314.187,   y = -278.621,  z = 54.170 },
    { name = "ATM", id = 277, sprite = 108, scale = 1.0, shortrange = true, color = 2, x = -351.534,  y = -49.529,   z = 49.042 },
    { name = "ATM", id = 277, sprite = 108, scale = 1.0, shortrange = true, color = 2, x = 24.589,    y = -946.056,  z = 29.357 },
    { name = "ATM", id = 277, sprite = 108, scale = 1.0, shortrange = true, color = 2, x = -254.112,  y = -692.483,  z = 33.616 },
    { name = "ATM", id = 277, sprite = 108, scale = 1.0, shortrange = true, color = 2, x = -1570.197, y = -546.651,  z = 34.955 },
    { name = "ATM", id = 277, sprite = 108, scale = 1.0, shortrange = true, color = 2, x = -1415.909, y = -211.825,  z = 46.500 },
    { name = "ATM", id = 277, sprite = 108, scale = 1.0, shortrange = true, color = 2, x = -1430.112, y = -211.014,  z = 46.500 },
    { name = "ATM", id = 277, sprite = 108, scale = 1.0, shortrange = true, color = 2, x = 33.232,    y = -1347.849, z = 29.497 },
    { name = "ATM", id = 277, sprite = 108, scale = 1.0, shortrange = true, color = 2, x = 129.216,   y = -1292.347, z = 29.269 },
    { name = "ATM", id = 277, sprite = 108, scale = 1.0, shortrange = true, color = 2, x = 287.645,   y = -1282.646, z = 29.659 },
    { name = "ATM", id = 277, sprite = 108, scale = 1.0, shortrange = true, color = 2, x = 289.012,   y = -1256.545, z = 29.440 },
    { name = "ATM", id = 277, sprite = 108, scale = 1.0, shortrange = true, color = 2, x = 295.839,   y = -895.640,  z = 29.217 },
    { name = "ATM", id = 277, sprite = 108, scale = 1.0, shortrange = true, color = 2, x = 1686.753,  y = 4815.809,  z = 42.008 },
    { name = "ATM", id = 277, sprite = 108, scale = 1.0, shortrange = true, color = 2, x = -302.408,  y = -829.945,  z = 32.417 },
    { name = "ATM", id = 277, sprite = 108, scale = 1.0, shortrange = true, color = 2, x = 5.134,     y = -919.949,  z = 29.557 },
}


local function addATMToTarget()
    for i = 1, #AtmProps do
        local Props = AtmProps[i]
        exports.ox_target:addModel(Props, {
            icon = 'fa-solid fa-handcuffs',
            label = "Open Atm",
            onSelect = function()
                print(json.encode(CurrentZone))
                -- local CoordsBank = self.zoneData.DataPed.PedPosition
                -- local PlayerCoords = Lgf.Player:Coords()
                OpenBankingComplete()
                -- print(CoordsBank)
                -- print(PlayerCoords)
            end
        })
    end
end


local function CreateBlipsAtm()
    for _, atmData in ipairs(ATM) do
        local blip = AddBlipForCoord(atmData.x, atmData.y, atmData.z)
        SetBlipSprite(blip, atmData.id)
        SetBlipDisplay(blip, 4)
        SetBlipScale(blip, atmData.scale or 0.9)
        SetBlipColour(blip, atmData.color or 2)
        SetBlipAsShortRange(blip, atmData.shortrange or true)
        BeginTextCommandSetBlipName("STRING")
        AddTextComponentString(atmData.name)
        EndTextCommandSetBlipName(blip)
    end
end


CreateThread(function()
    addATMToTarget()
    if Config.EnableAtmsBlip then
        CreateBlipsAtm()
    end
end)
